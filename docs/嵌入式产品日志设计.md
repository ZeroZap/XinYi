## 简介
  嵌入式产品是一个软件系统，通常运行在资源受限的硬件平台上，如微控制器、嵌入式计算机等。为了方便开发、测试和维护，通常需要为嵌入式产品设计一套日志系统。
  不同的日志信息要结合具体的产品设定不同的检测时机和记录周期，以确保日志信息的完整性和及时性。

  因为日志的信息是key-value，所以可以使用键值对的方式来记录日志信息。所以日志的长度可以做到可控，通过简单的数据管理来实现。可通过以TLV（Type-Length-Value）为基础的log格式来实现。

## 常见 Log 类型
ABCDEFGH
- A 类型
- B 版本
- CD 子类型
- EFGH

还有：时间戳......



- Error : 0x01
- Warning: 0x02
- Event: 0x03：记录产品使用行为
- Usage: 0x04：具体产品操作产生的结果数据
    - 充电 usage
    - 放电 usage
    - 自检 usage

## Error log
可以用一个  uint32_t 类型的变量来记录错误信息。常见error 有

- 系统总线错误 ：超时，冲裁等，保存设备地址或 ID，可恢复或不可恢复
    - I2C 错误
    - SPI 错误
    - UART 错误
    - ADC 错误
    - DAC 错误

- 设备信息异常
    - 温度异常
    - 电压异常
    - 电流异常
    - 传感器异常
    - 其他设备信息异常（设备 ID，设备地址等）
- 网络异常：连接，断开，错误

- 固件错误
    - 下载错误
    - 校验错误
    - 固件不匹配：开机匹配错误，运行时匹配错误，升级匹配错误

## Warning log
整体类似 Error log，但 Warning log 的优先级较低，通常用于记录非关键性错误或异常情况。
- 系统总线异常
    - I2C 异常
    - SPI 异常
    - UART 异常
    - ADC 异常
    - DAC 异常
- 设备信息异常
    - 温度异常
    - 电压异常
    - 电流异常
    - 传感器异常
    - 其他设备信息异常（设备 ID，设备地址等）
    - 网络异常：连接，断开，错误
    - 其他设备异常

## Usage log
- 充电 usage
- 放电 usage
- 自检 usage

## Event log
- 产品使用行为


## 调试版本下的故障模拟行为
在调试版本下，可以模拟一些故障行为，以便测试和验证日志系统的正确性。

